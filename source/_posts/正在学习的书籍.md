---
title: 正在学习的书籍
date: 2018-06-21 14:10:38
tags:
---

## [python3-cookbook](https://github.com/yidao620c/python3-cookbook)

### 数据结构和算法
* 1.4 查找最大或最小的 N 个元素（列表）
  * 怎样从一个集合中获得最大或者最小的 N 个元素列表？`heapq` 模块有两个函数：`nlargest()` 和 `nsmallest()`
  * 列表元素是数字：`heapq.nlargest(3, list)` 返回list中包含最大的三个元素的列表
  * 列表元素是字典：`heapq.nsmallest(3, portfolio, key=lambda s: s['price'])` 返回所有字典的以price key键对应的值的最小值。
* 1.6 字典中的键映射多个值
  * 一个字典就是一个键对应一个单值的映射。如果你想要一个键映射多个值，那么你就需要将这多个值放到另外的容器中， 比如列表或者集合里面
  * 你可以很方便的使用 collections 模块中的 defaultdict 来构造这样的字典。比如`dic = defaultdict(set) dic['a'].add(1)`
  * 自己实现需要使用if判断key是否存在，不够简洁。
* 1.7 字典排序
  * 为了能控制一个字典中元素的顺序，你可以使用collections 模块中的 OrderedDict 类。 在迭代操作的时候它会保持元素被插入(创建)时的顺序
  * 一个 OrderedDict 的大小是一个普通字典的两倍,数据量过大时需要仔细衡量
* 1.8 字典的运算
  * 为了对字典值执行计算操作(得到值的最大值等)，通常需要使用 zip() 函数先将键和值反转过来 `min_price = min(zip(prices_dict.values(), prices_dict.keys()))`
  * zip() 函数创建的是一个只能访问一次的迭代器，赋值给变量后，第二次访问会报错。
* 1.17 从字典中提取子集
  * 使用**字典推导**的方式创建新字典，运行速度是更快的;通过if后面的条件不同，可以得到不同的新字典
  * 通过value获得新字典：`dict1 = {key: value for key, value in base_dict.items() if value > 200}`
  * 通过key值获得新字典：`dict2 = {key: value for key, value in base_dict.items() if key in ["name","price"]}`
* 1.18 映射名称到序列元素
  * `collections.namedtuple()`工厂函数生成的实例可以将tuple转换为nametuple，并通过名称去访问元组元素，为代码增加可读性。
  * `namedtuple()`跟元组类型是可交换的，支持所有的普通元组操作,和字典的区别主要在于命名元组是不可更改的
* 1.19 转换并同时计算数据
  * 生成器表达式 x * x for x in nums => x表达式（for x in list）=> 对列表中的每一个对象进行同样的操作，形成新的列表
  * 生成器表达式返回的是一个`<generator object>` ,你可以使用`[x * x for x in nums]`,形成临时列表再去使用`sum()`调用它，或者直接使用`sum(x * x for x in nums)`,得出结果。后一种方案是更省内存的。
* 1.20 合并多个字典或映射
  * collections模块中的 ChainMap 将字典从逻辑上合并为一个单一的映射后执行某些操作，如果key值重复，任何操作都将指向第一个字典的key
  * 当使用ChainMap映射的原字典更新了内容，ChainMap可以获取到最新的值。而update方法不可以。