---
title: Linux文本编辑器vim
date: 2019-04-19 12:16:32
tags: linux
---

## 1. 三种模式

- 命令模式 输入 `i`等进入编辑模式，使用 `ESS` 返回到命令模式
- 编辑模式 使用 `ESS` 返回到命令模式
- 命令行模式 使用 `:` 进入命令行模式，使用 `ESS` 返回到命令模式

## 2. 命令模式常用命令

### 1. 基本操作

- `a` 在当前字符之后插入内容
- `A` 在行尾插入内容
- `i` 在当前字符之前插入内容
- `I` 在行首插入内容
- `o` 在下一行插入
- `O` 在上一行插入

- `x` 在光标处向后删除，等同于 del
- `X` 在光标处向前删除，等同于 backspace

- `u` 撤销一步

### 2. 删除内容

```
dd  删除光标所在的行
5dd 删除光标所在的后5行
dG 删除光标后所有的内容
```

### 3. 复制粘贴

```
yy 复制光标所在的行
3yy 复制光标所在后3行
p 粘贴yy所复制的行
```

## 3. V模式-批量操作

用于批量编辑行，在命令模式下，依次输入 `ctr` `v`,使用上下左右键选择文本，使用I等命令进行批量操作，ESC推出后生效。

## 4. 命令行模式

`:!` 调用系统命令,比如`:!ifconfig`不退出vim直接查看ip地址
`:s` 替换
`%s/a/b` 每一行的第一个符合要求的词替换成b
`%s/a/b/g` 将文本中所有的a替换为b

## 5. 定位与显示行号

```
gg 定位到第一行行首
G 定位到最后一行
:# 定位到某一行,#表示行号
:set nu 显示行号
:set nonu 隐藏行号
```
